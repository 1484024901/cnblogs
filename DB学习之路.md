# DB学习之路 [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome)

# 通用：

* http://db-engines.com

* Tech On The Net: http://www.techonthenet.com/index.php
* Readings in Database Systems (commonly known as the "Red Book")：http://www.redbook.io/

* SQL Pretty Printer formatter: http://www.dpriver.com/index.php
* ApexSQL: http://www.apexsql.com/
* RazorSQL: http://www.razorsql.com/
* AquaFold: http://www.aquafold.com/
* Withdata: http://www.withdata.com/index.html
* HeidiSQL: https://www.heidisql.com/
* erwin: http://erwin.com/
* DBeaver: http://dbeaver.jkiss.org/
* Navicat: http://www.navicat.com.cn/
* DataGrip: https://www.jetbrains.com/datagrip/
* EMS Database Management Solutions: https://www.sqlmanager.net/
* 数据库比较工具DBCompareTool 0.3.0 preview 发布：http://www.blogjava.net/allenny/archive/2011/09/30/359028.html
* DB Compare(SQL Server): http://dbcompare.codeplex.com/
* DBComparer(SQL Server): http://dbcomparer.com/
* NoSQL数据库笔谈: http://old.sebug.net/paper/databases/nosql/Nosql.html
* 存储过程使用建议: http://www.cnblogs.com/jes_shaw/archive/2009/05/20/1468505.html


# MySQL

* http://www.mysql.com/
* http://dev.mysql.com/doc/#manual
* Workbench: https://dev.mysql.com/downloads/workbench/
* SQLyog: https://www.webyog.com/product/sqlyog
* MySQL-Front: http://www.mysqlfront.de/
* 5款常用mysql slow log分析工具的比较：http://bbs.chinaunix.net/thread-1286359-1-1.html
* MYSQL常见错误及其解决方式: http://www.cnblogs.com/jiangxinnju/p/5894225.html
* MySQL默认数据库: http://www.cnblogs.com/jiangxinnju/p/5901845.html
* Should I use field 'datetime' or 'timestamp'? https://stackoverflow.com/questions/409286/should-i-use-field-datetime-or-timestamp
* 如何提高MySql的安全性？: http://blog.163.com/longsu2010@yeah/blog/static/17361234820116223593175/
* 如何写出高质量、高性能的MySQL查询: http://blog.sina.com.cn/s/blog_a8cf6bb20101a33v.html
* 解决mysql字符集乱码问题: http://www.cnblogs.com/dayday-study/archive/2012/05/18/2507276.html
* Oracle与MySQL字符串拼接: http://blog.csdn.net/itmyhome1990/article/details/41848229
* 关于InnoDB索引长度限制的tips: http://dinglin.iteye.com/blog/1681332
* Using Innodb_large_prefix to Avoid ERROR 1071: http://mechanics.flite.com/blog/2014/07/29/using-innodb-large-prefix-to-avoid-error-1071
* Mysql异常'SET OPTION SQL_SELECT_LIMIT=DEFAULT': http://blog.csdn.net/wangyang1354/article/details/60135602
* MySQL无法重启问题解决Warning: World-writable config file ‘/etc/my.cnf’ is ignored: http://www.ttlsa.com/mysql/warning-world-writable-config-file-etcmy-cnf-is-ignored/
* 慎用lower_case_table_names来实现表名不区分大小写: http://www.codeweblog.com/%E6%85%8E%E7%94%A8lower_case_table_names%E6%9D%A5%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%90%8D%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99/
* Can't execute a MySQL stored procedure from Java: https://stackoverflow.com/questions/986628/cant-execute-a-mysql-stored-procedure-from-java
* 『浅入浅出』MySQL 和 InnoDB: http://www.cocoachina.com/programmer/20170807/20158.html
* MySQL 加锁处理分析: http://hedengcheng.com/?p=771


# SQL Server

* SQL Server: https://msdn.microsoft.com/library/bb545450.aspx
* Transact-SQL 参考: https://msdn.microsoft.com/zh-cn/library/bb510741(v=sql.105).aspx
* TSQLT：http://tsqlt.org/
* sqlcmd 实用工具：http://msdn.microsoft.com/zh-cn/library/ms162773.aspx
* SQL SERVER 2005中的Schema（架构）概念详解：http://blog.sina.com.cn/s/blog_5b2c0dcc0100alj9.html
* Sql Server 2005中的架构(Schema)、用户(User)、角色(Role)和登录(Login)(一)：http://www.cnblogs.com/end/archive/2009/08/07/1541373.html
* Sql Server 2005中的架构(Schema)、用户(User)、角色(Role)和登录(Login)(二)：http://www.cnblogs.com/end/archive/2009/08/07/1541374.html
* Sql Server 2005中的架构(Schema)、用户(User)、角色(Role)和登录(Login)(三)：http://www.cnblogs.com/end/archive/2009/08/07/1541377.html
* 谓词和运算符：http://www.cnblogs.com/cuiyh/archive/2010/12/18/1910090.html
* Tempdb数据库详细介绍：http://www.cnblogs.com/qanholas/archive/2012/01/05/2313006.html
* MS SQL专用管理员连接DAC: http://www.cnblogs.com/kerrycode/p/3344085.html
* 用于数据库管理员的诊断连接: https://msdn.microsoft.com/zh-cn/library/ms189595.aspx
* 解决sqlserver 2008 sqlcmd无法登陆: http://www.cnblogs.com/skynothing/archive/2010/08/26/1809125.html
* 关于SQLSERVER的全文目录跟全文索引的区别: http://www.cnblogs.com/lyhabc/archive/2012/08/05/2623795.html
* 在SQL Server中如何获得刚插入一条新记录的自动ID号: http://blog.csdn.net/wangji163163/article/details/2424191
* SQL Server中如何取得刚插入的标识值: http://www.blogjava.net/DreamAngel/archive/2012/05/11/377920.html
* Join操作基本：外连接、自然连接、内连接: http://www.cnblogs.com/huangfr/archive/2012/06/20/2555530.html
* SQL 中 where 1=1 和 1=0的 作用: http://blog.csdn.net/wanghai__/article/details/4813909
* left join on 和where条件的放置: http://blog.csdn.net/muxiaoshan/article/details/7617533


## SQL Server不同版本的驱动

* msbase.jar、mssqlserver.jar、msutil.jar 在连接数据时候需要手动导入驱动包，即手动导入class.forName(驱动名称)，支持sql2000
* sqljdbc.jar 应用程序必须首先按class.forName(驱动名称)注册驱动程序。Jdk1.6以上版本不推荐使用.支持sql2005，sql2008
* sqljdbc4.jar DriverManager.getConnection方法得到了增强，可自动加载 JDBC Driver。因此使用sqljdbc4.jar 类库时，应用程序无需调用 Class.forName 方法来注册或加载驱动程序。调用 DriverManager 类的 getConnection 方法时，会从已注册的 JDBC Driver 集中找到相应的驱动程序。sqljdbc4.jar 文件包括“META-INF/services/java.sql.Driver”文件，后者包含.sqlserver.jdbc.SQLServerDriver 作为已注册的驱动程序。现有的应用程序（当前通过使用 Class.forName 方法加载驱动程序）将继续工作，而无需修改。要求使用 6.0 或更高版本的JRE，支持sql2005，sql2008




## 全文索引和普通索引的区别

两种索引的功能和结构都是不同的，普通索引的结构主要以B+树和哈希索引为主，用于实现对字段中数据的精确查找，比如查找某个字段值等于给定值的记录，A=10这种查询，因此适合数值型字段和短文本字段。全文索引是用于检索字段中是否包含或不包含指定的关键字，有点像搜索引擎的功能，因此全文索引内部采用的是与搜索引擎相同的倒排索引结构，其原理是对字段中的文本进行分词，然后为每一个出现的单词记录一个索引项，这个索引项中保存了所有出现过该单词的记录的信息，也就是说在索引中找到这个单词后，就知道哪些记录的字段中包含这个单词了。因此适合用大文本字段的查找。大字段之所以不适合做普通索引，最主要的原因是普通索引对检索条件只能进行精确匹配，而大字段中的文本内容很多，通常也不会在这种字段上执行精确的文本匹配查询，而更多的是基于关键字的全文检索查询，例如你查一篇文章信息，你会只输入一些关键字，而不是把整篇文章输入查询（如果有整篇文章也就不用查询了）。而全文索引正是适合这种查询需求。

## 提示找不到存储过程(SQLServer)

在sql server 里新建了几个存储过程，每次都是建了之后，存储过程是可以看见的，但用exec语句的时候，却一直有红色波浪线提示找不到存储过程，但是直接执行，却又是可以执行成功的，每次都需要重新打开ssms，红色的波浪线提示才会取消。
原因是这样的.你的SQL Server 客户端，在连接到 SQL Server 数据库以后。会自动读取数据库的数据字典信息。也就是当前数据库，有哪些表/字段/视图/存储过程等基础信息。保存在客户端的内存里面。这样。当你在客户端输入 SQL 语句的时候，输入表名字.会自动弹出这个表的字段列表让你选择。但是当你新建了一个对象的时候，例如表或者上面那个例子，新建存储过程abc这个时候，数据库那里已经有存储过程abc 了。但是客户端的缓存里面并没有存储过程 abc 的信息。因为内存里面的信息没有更新。因此在客户端那里。输入EXEC abc，abc下有红线。将客户端关闭后，重新打开，由于客户端重新加载了数据库的基础信息。知道了当前数据库里面，有一个名字叫 abc 的存储过程，因此就不出红线了。



# Oracle Database

* Oracle Database DownLoad: http://www.oracle.com/technetwork/cn/database/enterprise-edition/downloads/index.html
* Documents: http://docs.oracle.com/en/database/
* Database Reference: http://docs.oracle.com/cd/B28359_01/server.111/b28320/index.htm
* Database SQL Language Reference: http://docs.oracle.com/cd/B28359_01/server.111/b28286/index.htm
* Database JDBC Developer's Guide: http://docs.oracle.com/cd/E11882_01/java.112/e16548/toc.htm
* Listener Control Utility (LSNRCTL): http://docs.oracle.com/cd/A87861_01/NT817EE/network.817/a76933/controlu.htm#433891
* Database Concepts: http://docs.oracle.com/database/121/CNCPT/toc.htm
* The differences of "on delete cascade" and "on delete set null": http://docs.oracle.com/cd/B28359_01/server.111/b28286/clauses002.htm (search "on delete")
* Database Error Messages: http://docs.oracle.com/cd/B28359_01/server.111/b28278/toc.htm
* 3 Starting Up and Shutting Down: http://docs.oracle.com/database/121/ADMIN/start.htm
* 5 Introduction to LOBs: http://docs.oracle.com/cd/B10500_01/appdev.920/a96583/cci05lob.htm
* E Managing Oracle Database Port Numbers: http://docs.oracle.com/cd/B19306_01/install.102/b15667/app_port.htm
* Configuring the Operating System Environment Variables: http://docs.oracle.com/database/121/ADMQS/GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2.htm#ADMQS12369
* 1 Administering Oracle Database: http://docs.oracle.com/database/121/UNXAR/admin_ora.htm#UNXAR001
* 9 Managing Diagnostic Data: http://docs.oracle.com/database/121/ADMIN/diag.htm#ADMIN11007
* 12 Managing Archived Redo Log Files: http://docs.oracle.com/database/121/ADMIN/archredo.htm#ADMIN008
* 3 Setting Up a Globalization Support Environment: http://docs.oracle.com/database/121/NLSPG/ch3globenv.htm#NLSPG003
* 12 Logical Storage Structures: http://docs.oracle.com/database/121/CNCPT/logical.htm#CNCPT004
* dbms_lob.substr: http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_lob.htm#i999349
* SQL*Loader: http://docs.oracle.com/cd/E11882_01/server.112/e22490/ldr_concepts.htm#SUTIL003
* Database Net Services Reference: http://docs.oracle.com/cd/E11882_01/network.112/e10835/toc.htm
* 8 Data Sources and URLs: http://docs.oracle.com/cd/B28359_01/java.111/b31224/urls.htm
* Predefined User Accounts Provided by Oracle Database: http://docs.oracle.com/database/122/TDPSG/securing-the-database-installation-and-configuration.htm#TDPSG20030
* Protecting Your Database: Specifying Passwords for Users SYS and SYSTEM: http://docs.oracle.com/cd/B28359_01/server.111/b28310/create004.htm#ADMIN11087
* Managing Oracle Enterprise Manager Database Control: http://docs.oracle.com/cd/E11882_01/server.112/e25494/dbcontrol.htm#ADMIN13401
* 2 Oracle SQL Connector for Hadoop Distributed File System: http://docs.oracle.com/cd/E37231_01/doc.20/e36961/sqlch.htm#BDCUG125
* Generating an AWR Report Using the Command-Line Interface: http://docs.oracle.com/database/121/TGDBA/gather_stats.htm#TGDBA233
* TRUNC (date): http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions209.htm#SQLRF06151
* SYS_CONTEXT: http://docs.oracle.com/database/122/SQLRF/SYS_CONTEXT.htm#SQLRF06117
* ALTER SEQUENCE: http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_2011.htm#SQLRF00817
* / (slash): http://docs.oracle.com/cd/B28359_01/server.111/b31189/ch12004.htm

* Oracle SQL Developer: http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html
* Instant Client Downloads for Microsoft Windows (32-bit): http://www.oracle.com/technetwork/topics/winsoft-085727.html

* Oracle SQL Handler：http://www.heartblue.cn/
* SI Object Browser：http://www.presoft.com.cn/ob/

* ToadWorld: http://www.toadworld.com/

* Oracle 11g安装图文攻略: http://jingyan.baidu.com/article/9f7e7ec04c14c76f29155465.html
* oracle 11g如何完全卸载: http://jingyan.baidu.com/article/922554468d4e6b851648f4e3.html
* win7_oracle11g_64位连接32位PLSQL_Developer: http://jingyan.baidu.com/article/fb48e8be4c7c206e622e1491.html
* Oracle 11g 如何创建数据库：http://jingyan.baidu.com/article/cbcede07cf42ef02f40b4dc2.html
* 数据库使用详解：[3]SQL Developer如何配置：http://jingyan.baidu.com/article/e4511cf33f289e2b845eafb6.html
* oracle的各版本发行时间及特点: http://blog.csdn.net/dream19881003/article/details/7178357
* oracle客户端软件的说明：http://blog.csdn.net/haiross/article/details/17917637
* 如何查看Oracle客户端版本: http://www.cnblogs.com/kerrycode/p/4087292.html
* 怎么判断oracle客户端、服务器端的位数：http://blog.csdn.net/linghe301/article/details/8471945
* oracle 查版本号,oracle怎样查版本: http://jingyan.baidu.com/article/4f34706ee1ea02e387b56ddc.html
* oracle数据导入与导出: http://blog.csdn.net/loadrunn/article/details/7283441
* EXECUTE IMMEDIATE 常见使用方法: http://blog.itpub.net/27042095/viewspace-739404/
* Oracle11g自带的SQL developer无法打开解决方案(百度文库)： http://wenku.baidu.com/link?url=scHbokjqF7nK8kca00Pxrm8uaUmm7HNkgXLGaq0tNU-9T2zOrc08oZ7YJkXagD-QbQUmQl7c1wiZNigvIZ9YNVwMU9qIgxBI34HfkM8kWdO
* 【Foreign Key】Oracle外键约束三种删除行为 : http://blog.itpub.net/519536/viewspace-630034/
* Oracle导入JAR包并调用Java: http://www.jianshu.com/p/4280ac298ded
* Reclaiming Unused LOB Space: http://www.idevelopment.info/data/Oracle/DBA_tips/LOBs/LOBS_85.shtml
* Oracle 10g: Issue with startup mount command (ORA-24324, ORA-01041): http://stackoverflow.com/questions/12470893/oracle-10g-issue-with-startup-mount-command-ora-24324-ora-01041
* 你所不知道的OERR: http://blog.163.com/jet_it_life/blog/static/2050970832012320146595/
* 第9 章 HWM 与数据库性能的探讨: Oracle 数据库性能优化
* Oracle数据库shutdown immediate被hang住的几个原因: http://www.cnblogs.com/kerrycode/p/3506430.html
* Oracle JDBC 连接卡死后 Connection Reset: http://www.cnblogs.com/lailailai/p/4055670.html
* Oracle Start Up 2 Oracle 框架构件、启动、解决一个问题(shared memory realm does not exist):http://kylinsoong.iteye.com/blog/776654
* ORA-01144: File size (4224000 blocks) exceeds maximum of 4194303: http://www.runningoracle.com/product_info.php?products_id=338
* sqlldr的用法：http://blog.chinaunix.net/uid-23622436-id-2394093.html
* oracle表空间表分区详解及oracle表分区查询使用方法(转+整理): http://www.cnblogs.com/jiangxinnju/p/6284096.html
* linux下重启oracle服务：监听器和实例：http://www.cnblogs.com/lingbing/p/6071745.html
* TNS-01190: The user is not authorized to execute the requested listener command：http://www.dba-oracle.com/t_tns_01190_listener_password_security_authorization.htm
* ORACLE实例配置多个监听器: http://blog.itpub.net/30150152/viewspace-1479571/
* PLSQL_性能优化工具系列02_SQL Tuning Health-Check Script (SQLHC): http://www.cnblogs.com/eastsea/p/3973596.html
* Script:SQL调优健康检查脚本: http://www.askmaclean.com/archives/sql-tuning-health-check-script.html
* 重走长征路——1、V$SQL%知多少？http://www.cnblogs.com/sopost/archive/2012/06/03/2532826.html
* 由12170问题引起的Oracle无法登陆问题de解决办法: http://jingh3209.blog.163.com/blog/static/156966720103295715623
* TNS-12535: TNS:operation timed out、TNS-00505: Operation timed out: http://www.cnblogs.com/future2012lg/p/3739752.html
* 配置tnsping跟踪来诊断Oracle Net连接: http://blog.itpub.net/17203031/viewspace-1161228/
* 说说Oracle监听器（二）: http://blog.itpub.net/17203031/viewspace-682628/
* Linux 安装oracle客户端: http://www.cnblogs.com/yangxia-test/p/4159449.html
* 深入理解JDBC的超时设置: http://www.importnew.com/2466.html
* The Difference between User and Schema in Oracle: http://www.oratable.com/oracle-user-schema-difference/
* Oracle中如何插入特殊字符: & 和 ' (多种解决方案): http://blog.csdn.net/ye1992/article/details/37509915



## oracle疑难问题排查集：

* 数据库无响应，出现很多tns的错误: http://www.itpub.net/thread-1359536-1-1.html
* oracle 11g不能连接报ORA-12537+ora-609解决: http://www.cnblogs.com/hanbo112/p/4583047.html
* TNS-12537 TNSconnection closed ORA-609错误处理: http://blog.sina.com.cn/s/blog_4bad366d0101oea2.html
* ORA-3136、TNS-12535 12170 12606: http://blog.chinaunix.net/uid-20276248-id-92210.html
* 关于 Fatal NI connect error 12170: http://blog.csdn.net/liqfyiyi/article/details/7107249

## PL/SQL Developer

* http://www.allroundautomations.com/registered/plsqldev.html
* 配置：localhost:1521/orcl

## navicat 连接Oracle 报错：Cannot load OCI DLL, 126

windows Server 2008 服务器上安装了Oracle 11g R2，在用Navicat去连接Oracle时，提示以下错误：

    Cannot load OCI DLL, 126: Instant Client package is required for Baic and TNS connection ，For more information: http://wiki.navicat.com/wiki/index.php/Instant_client_required

查看上述链接页面提示，Navicat only support 32-bit instant client， 因此，尽管我们安装了64位的Oracle，但由于Navicat仅支持32位的，因此我们还需下载一个32位的客户端， 下载地址：

    http://www.oracle.com/technetwork/topics/winsoft-085727.html。

以下为完整的解决方法：

* 在上述地址中下载文件：instantclient-basic-nt-12.1.0.2.0.zip,
* 解压此安装包至：D:/app/administrator/product/instantclient_2_2_x32
* 打开Navicat，选择工具→选项→其他→OCI，然后设置OCI library为：D:app/administrator/product/instantclient_12_2_x32/oci.dll，设置SQL  plus为：D:/app/administrator/product/11.2.0/dbhome_1/BIN/sqlplus.exe。确定。
* 测试成功。



## Oracle 11g 默认用户名和密码

安装ORACLE时，若没有为下列用户重设密码，则其默认密码如下：

用户名/密码                登录身份                说明
sys/change_on_install      SYSDBA 或 SYSOPER       不能以 NORMAL 登录，可作为默认的系统管理员
system/manager             SYSDBA 或 NORMAL        不能以 SYSOPER 登录，可作为默认的系统管理员
sysman/oem_temp            sysman                  为 oms 的用户名
scott/tiger                NORMAL                  普通用户
aqadm/aqadm               SYSDBA 或 NORMAL        高级队列管理员
Dbsnmp/dbsnmp              SYSDBA 或 NORMAL        复制管理员

登录身份：指登录时的Role指定，oracle11g中分SYSDBA和default两种。在安装Oracle 10g的时候，提示创建数据库，在创建的同时提示你输入口令，若此时你输入了密码，在登录数据库的时候用户名sys 对应的密码就应该是你创建数据库时候输入的口令。而非默认的change_on_install.


## Oracle 11g服务详细介绍及哪些服务是必须开启的？

成功安装Oracle 11g后，共有7个服务，这七个服务的含义分别为：

* Oracle ORCL VSS Writer Service：Oracle卷映射拷贝写入服务，VSS（Volume Shadow Copy Service）能够让存储基础设备（比如磁盘，阵列等）创建高保真的时间点映像，即映射拷贝（shadow copy）。它可以在多卷或者单个卷上创建映射拷贝，同时不会影响到系统的性能。（非必须启动）
* OracleDBConsoleorcl：Oracle数据库控制台服务，orcl是Oracle的实例标识，默认的实例为orcl。在运行Enterprise Manager（企业管理器OEM）的时候，需要启动这个服务。（非必须启动）
* OracleJobSchedulerORCL：Oracle作业调度（定时器）服务，ORCL是Oracle实例标识。（非必须启动）
* OracleMTSRecoveryService：服务端控制。该服务允许数据库充当一个微软事务服务器MTS、COM/COM+对象和分布式环境下的事务的资源管理器。（非必须启动）
* OracleOraDb11g_home1ClrAgent：Oracle数据库.NET扩展服务的一部分。 （非必须启动）
* OracleOraDb11g_home1TNSListener：监听器服务，服务只有在数据库需要远程访问的时候才需要。（非必须启动，下面会有详解）。
* OracleServiceORCL：数据库服务(数据库实例)，是Oracle核心服务该服务，是数据库启动的基础， 只有该服务启动，Oracle数据库才能正常启动。(必须启动)

那么在开发的时候到底需要启动哪些服务呢？对新手来说，要是只用Oracle自带的sql*plus的话，只要启动OracleServiceORCL即可，要是使用PL/SQL Developer等第三方工具的话，OracleOraDb11g_home1TNSListener服务也要开启。OracleDBConsoleorcl是进入基于web的EM必须开启的，其余服务很少用。

注：ORCL是数据库实例名，默认的数据库是ORCL，你可以创建其他的，即OracleService+数据库名。


## 使sqlplus中方向键可用

使Unix下的sqlplus/rman也像windows下sqlplus/rman命令一样，可以通过左右箭头修改命令，通过上下箭头查看命令历史。The rlwrap (readline wrapper) utility provides a command history and editing of keyboard input for any other command. This is a really handy addition to SQL*Plus and RMAN on Linux. 而rlwrap会用到readline包，首先要安装readline，然后安装rlwrap。

### 下载

* readline下载：http://directory.fsf.org/project/readline/
* rlwrap下载：http://utopia.knoware.nl/~hlub/uck/rlwrap/

### 安装（使用root登陆，平台是Solaris，其它类似）
```
    # install readline：
    gunzip readline-5.0.tar.gz
    tar xvf readline-5.0.tar
    cd readline-5.0
    ./configure
    make
    make install

    # install rlwrap：
    gunzip rlwrap-0.30.tar.gz
    tar xvf rlwrap-0.30.tar
    cd rlwrap-0.30
    ./configure
    make
    make check
    make install
```

### 使用

# rlwrap sqlplus user/pwd@testdb

可以设别名放到.bash_porfile里，然后直接使用别名即可。

    alias rlsqlplus='rlwrap sqlplus'
    source ~/.bash_porfile

## Oracle安装错误ora-00922（缺少或无效选项）

安装Oracle 11g R2的过程中，在新建数据库实例时出现了该错误，如果选择"忽略"就会出现ora-28000错误。经网络查询验证，这是属于在前面配置管理员密码的时候，采用了数字开头的密码，Oracle貌似对此不支持，但当时不提示出错，晕倒！据说包含其他非法特殊字符也可能产生此问题。

ORA-00922: 选项缺失或无效

错误原因：一般是语句的语法有问题。比如命名不对，关键字写错等等。对于非标准的命名，一般采用双引号来创建。

标识符命名规则:

* 必须以字母开始。
* 长度不能超过30个单字节字符。
* 只能包括A-Z，a-z，0-9，_，$和#。
* 不能在相同用户下建立两个同名的对象。
* 不能使用保留字和关键字

ORA-28000: 账户锁定

* 使用PL/SQL，登录名为system,数据库名称不变，选择类型的时候把Normal修改为Sysdba;
* 选择myjob,查看users;
* 选择system,右击点击“编辑”；
* 修改密码，把“帐户被锁住”的勾去掉；
* 点击“应用”再点击“关闭”；
* 重新登录就可以通过验证了


## linux/unix平台Oracle sqlplus 中Backspace无法删除字符

Oracle sqlplus在打错字符时我们可以使用ctrl+backspace组合键实现删除功能。但是你一定要使用Backspace键删除的话，会出现^H，无法删除。这是因为linux中对tty设备的字符转换没有配置好，可通过stty命令修改终端配置来实现Backspace删除功能。具体修改办法如下：

```shell
    [oracle@www.yeserver.com ~]$ id
    uid=800(oracle) gid=803(oinstall) groups=800(dba),801(oper),803(oinstall)
    [oracle@www.yeserver.com ~]$ stty erase ^h
```

若要恢复Ctrl+Backspace组合键删除功能，可执行以下命令:

```shell
    [oracle@www.yeserver.com ~]$ id
    uid=800(oracle) gid=803(oinstall) groups=800(dba),801(oper),803(oinstall)
    [oracle@www.yeserver.com ~]$ stty erase ^?
```

同时可通过stty -a查看所有的终端设置

```shell
    [oracle@www.yeserver.com ~]$ id
    uid=800(oracle) gid=803(oinstall) groups=800(dba),801(oper),803(oinstall)
    [oracle@www.yeserver.com ~]$ stty -a
    speed 38400 baud; rows 37; columns 122; line = 0;
    intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = ; eol2 = ; swtch = ; start = ^Q;
    stop = ^S; susp = ^Z; rprnt = ^R; werase = ^W; lnext = ^V; flush = ^O; min = 1; time = 0;
    -parenb -parodd cs8 -hupcl -cstopb cread -clocal -crtscts -cdtrdsr
    -ignbrk -brkint -ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl ixon -ixoff -iuclc -ixany -imaxbel -iutf8
    opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0
    isig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt echoctl echoke
```


## ORACLE_HOME/ORACLE_SID

ORACLE_HOME 安装目录
ORACLE_SID 实例ID
一台linux机器上安装一个oracle，两个实例，分别对应两个用户。切换到对应用户时 echo $ORACLE_SID会显示各自的实例

## oracle 的修改SID

1、检查原来的数据库实例名（sid）

    oracle@oracle[/home/oracle]> echo $ORACLE_SID
    orcl
    oracle@oracle[/home/oracle]> sqlplus / as sysdba
    SQL*Plus: Release 10.2.0.1.0 - Production on Sun Dec 20 11:14:49 2009
    Copyright (c) 1982, 2005, Oracle. All rights reserved.
    Connected to:
    Oracle Database 10g Enterprise Edition Release 10.2.0.1.0 - Production
    With the Partitioning, OLAP and Data Mining options
    sys@ORCL> select instance from v$thread;
    INSTANCE
    --------------------------------------------------------------------------------
    orcl

2、关闭数据库

注意不能用shutdown abort，只能是shutdown immediate或shutdown normal

    sys@ORCL> shutdown immediate
    Database closed.
    Database dismounted.
    ORACLE instance shut down.
    sys@ORCL> exit
    Disconnected from Oracle Database 10g Enterprise Edition Release 10.2.0.1.0 - Production
    With the Partitioning, OLAP and Data Mining options

3、修改oracle用户的ORACLE_SID环境变量，如由orcl修改为ybbe

4、修改/etc/oratab文件，将sid名由旧的修改为新的，如从orcl修改为ybbe

5、进入到$ORACLE_HOME/dbs目录，将所有文件名中包含原来的sid的修改为对应的新sid的。如我对如下文件修改为其后对应的文件

    hc_orcl.dat->hc_ybbe.dat
    lkORCL->lkYBBE
    orapworcl->orapwybbe
    snapcf_orcl.f->snapcf_cnhtm.f
    spfileorcl.ora->spfilecnhtm.ora
    cd $ORACLE_HOME/dbs
    orapwd file=orapwybbe password='ybbe' entries=5 force=y

可以用命令进行对上面的文件进行自动生成

6、使新修改的ORACLE_SID环境变量生效

    oracle@oracle[/oracle/app/10.1/dbs]> . ~/.bash_profile
    oracle@oracle[/oracle/app/10.1/dbs]> echo $ORACLE_SID
    cnhtm

7、重建口令文件

因为口令文件改名后不能在新实例中使用，所以重建

    oracle@oracle[/oracle/app/10.1/dbs]> orapwd file=$ORACLE_HOME/dbs/orapw$ORACLE_SID password=oracle entries=5 force=y
    oracle@oracle[/oracle/app/10.1/dbs]> ls -lrt orapw*
    -rw-r----- 1 oracle oinstall 2048 Dec 20 11:27 orapwybbe

8、启动数据库

    oracle@oracle[/oracle/app/10.1/dbs]> sqlplus / as sysdba
    SQL*Plus: Release 10.2.0.1.0 - Production on Sun Dec 20 11:29:53 2009
    Copyright (c) 1982, 2005, Oracle. All rights reserved.
    Connected to an idle instance.
    idle> startup
    ORACLE instance started.
    Total System Global Area 167772160 bytes
    Fixed Size 1218292 bytes
    Variable Size 62916876 bytes
    Database Buffers 96468992 bytes
    Redo Buffers 7168000 bytes
    Database mounted.
    Database opened.

9、检查数据库实例名。通过如下语句检查数据库实例名，发现实例名已经由orcl变成ybbe

    select instance from v$thread;
    INSTANCE

## ESCAPE关键字用法

　　定义：escape关键字经常用于使某些特殊字符，如通配符：'%','_'转义为它们原来的字符的意义，被定义的转义字符通常使用'\',但是也可以使用其他的符号。实例：

    SQL> select * from t11 where name like '%_%';
    SQL> select * from t11 where name like '%\_%' escape '\';

注意：如果是 '/' 作为检索字符， 必须 用 '/' 作为转义符， 正斜扛也一样。

    select * from wan_test where psid like '%//%' escape '/'

1.使用 ESCAPE 关键字定义转义符。在模式中，当转义符置于通配符之前时，该通配符就解释为普通字符。
2.ESCAPE 'escape_character' 允许在字符串中搜索通配符而不是将其作为通配符使用。escape_character 是放在通配符前表示此特殊用途的字符。


## Oracle中session和processes的设置

* PROCESSES: http://docs.oracle.com/cd/B28359_01/server.111/b28320/initparams188.htm#sthref560
* SESSIONS: http://docs.oracle.com/cd/B28359_01/server.111/b28320/initparams220.htm#sthref647
* TRANSACTIONS: http://docs.oracle.com/cd/B28359_01/server.111/b28320/initparams248.htm

* Oracle 11gR2之前：sessions=(1.1*processes) + 5
* Oracle 11gR2之后：sessions=(1.5*porcesses) + 22

当Oracle需要启动新的process而又已经达到processes参数时，就会报错：

```shell
    00020, 00000, "maximum number of processes (%s) exceeded"
    // *Cause: All process state objects are in use.
    // *Action: Increase the value of the PROCESSES initialization parameter.
```

当数据库连接的并发用户已经达到sessions这个值时，又有新session连进来，就会报错

```shell
    00018, 00000, "maximum number of sessions exceeded"
    // *Cause: All session state objects are in use.
    // *Action: Increase the value of the SESSIONS initialization parameter.
```

如何使用sqlplus查看、修改processes呢？使用sys，以sysdba权限登录：

```shell
    show parameter processes; --显示：processes integer 150
	show parameter sessions; --显示：sessions integer 165
	select count(*) from v$process; --显示当前processes数目
	select  count(*) from v$session; --显示当前sessions数目
    alter system set processes=400 scope = spfile; --显示系统已更改
    show parameter processes; --显示：processes integer 150
    create pfile from spfile; --显示：文件已创建。

    --重启数据库
    shutdown immediate;
    startup
    
    --重启监听
    lsnrctl stop/start/status

    show parameter processes; --显示：processes integer 400
    show parameter session; --显示：sessions integer 445
```

## 忘记oracle的sys用户密码怎么修改

### 忘记除SYS、SYSTEM用户之外的用户的登录密码

    CONN SYS/PASS_WORD AS SYSDBA; --用SYS (或SYSTEM)用户登录
    ALTER USER user_name IDENTIFIED BY "newpassword"; --修改用户的密码，密码不能是数字开头，否则会出现：ORA-00988: 口令缺失或无效

### 忘记SYS用户，或者是SYSTEM用户的密码

    CONN SYS/PASS_WORD AS SYSDBA; --如果是忘记SYSTEM用户的密码，可以用SYS用户登录。
    ALTER USER SYSTEM IDENTIFIED BY "newpassword";

    CONN SYSTEM/PASS_WORD AS SYSDBA; --如果是忘记SYS用户的密码，可以用SYSTEM用户登录。
    ALTER USER SYS IDENTIFIED BY "newpassword";

### SYS,SYSTEM用户的密码都忘记

Oracle提供了两种验证方式，一种是OS验证，另一种密码文件验证方式，如果是第一种方式用以下方法修改密码：

```sql
　　sqlplus /nolog;
　　connect / as sysdba
　　alter user sys identified by newpassword;
　　alter user system identified by newpassword;
```

如果是第二种方法可以使用ORAPWD.EXE 工具修改密码。打开命令提示符窗口，输入如下命令：

    orapwd file=D:\oracle10g\database\pwdctcsys.ora password=newpassword

这个命令重新生成了数据库的密码文件。密码文件的位置在ORACLE_HOME目录下的\database目录下。这个密码是修改sys用户的密码。除sys其他用户的密码不会改变。也可以下方法修改密码，设定完后，重新启动服务，再次登陆就可以了。

    orapwd file=pwdxxx.ora password=newpassword entries=10


# DB2

* 官网：http://www-01.ibm.com/software/data/db2/
* DB2China：http://www.db2china.net/
* Ubuntu 16.04安装DB2 Express C v11.1: http://www.cnblogs.com/jiangxinnju/p/6571785.html
* DB2 9.5 数据库分区管理及应用实践: https://www.ibm.com/developerworks/cn/data/library/techarticles/dm-0903zhanggy/
* 如何建立DB2分区数据库？: http://www.cnblogs.com/jiangxinnju/p/6649305.html
* IBM DB2关键特性解析：DB2分区特性: http://tech.it168.com/a2012/0306/1321/000001321022_2.shtml
* db2建立schema: http://guoyanxi.iteye.com/blog/910755


# Oracle Berkeley DB

* Oracle Berkeley DB：http://www.oracle.com/technetwork/database/database-technologies/berkeleydb/overview/index.html


# SQLite

* http://www.sqlite.org/
* DB Browser for SQLite: http://sqlitebrowser.org/
* SQLite Expert: http://www.sqliteexpert.com/index.html


# mongodb

* https://www.mongodb.org/
* https://docs.mongodb.org/manual/
* http://api.mongodb.org/java/
* MonjaDB (MongoDB GUI client tool) : http://www.jumperz.net/index.php?i=2&a=0&b=9
* MONGOVUE: http://www.mongovue.com/
* mongolab: https://mongolab.com/
* Spring Data MongoDB hello world example: http://www.mkyong.com/mongodb/spring-data-mongodb-hello-world-example/
* MongoDB设置访问权限、设置用户: http://www.cnblogs.com/zengen/archive/2011/04/23/2025722.html
* 三招解决MongoDB的磁盘IO问题: http://blog.nosqlfan.com/html/3925.html
* Install MongoDB Community Edition on Ubuntu: https://docs.mongodb.com/master/tutorial/install-mongodb-on-ubuntu/
* Mongo Database 性能优化: http://www.cnblogs.com/shanyou/archive/2010/10/02/1841348.html
* Morphia(The Java Object Document Mapper for MongoDB): http://mongodb.github.io/morphia/
* NoSQL 之 Morphia 操作 MongoDB: http://www.cnblogs.com/hoojo/archive/2012/02/17/2355384.html


# Teradata

* Teradata Express for VMware Player: http://downloads.teradata.com/download/database/teradata-express-for-vmware-player
* Teradata Aster: http://developer.teradata.com/aster
* Teradata 教程: http://www.w3cschool.cn/teradata/

# GreenPlum

* https://pivotal.io/big-data/pivotal-greenplum


# hbase

* http://hbase.apache.org/
* HBase 官方文档(中文)：http://yankaycom-wordpress.stor.sinaapp.com/hbase/book.html?q=/wp-content/hbase/book.html
* HBase介绍: http://www.cnblogs.com/jiangxinnju/p/6427124.html

* HBase 权限控制: http://debugo.com/hbase-access-control/
* HBase Shell 常用操作: http://debugo.com/hbase-shell-cmds/
* Hbase,Hive,Pig的区别: http://blog.sina.com.cn/s/blog_662728650101kurp.html
* HBase运维实战：disable table失败的处理: http://www.searchdatabase.com.cn/showcontent_53017.htm
* HBase性能调优: http://blog.nosqlfan.com/html/2095.html
* 关于HFile的思考: http://blog.nosqlfan.com/html/2545.html
* HBase性能优化方法总结（一）：表的设计: http://www.cnblogs.com/panfeng412/archive/2012/03/08/hbase-performance-tuning-section1.html
* HBase性能优化方法总结（二）：写表操作: http://www.cnblogs.com/panfeng412/archive/2012/03/08/hbase-performance-tuning-section2.html
* HBase性能优化方法总结（三）：读表操作: http://www.cnblogs.com/panfeng412/archive/2012/03/08/hbase-performance-tuning-section3.html
* HBase性能优化方法总结（四）：数据计算: http://www.cnblogs.com/panfeng412/archive/2012/03/08/hbase-performance-tuning-section4.html
* HBase如何合理设置客户端Write Buffer: http://www.cnblogs.com/panfeng412/archive/2012/10/16/how-to-use-hbase-client-write-buffer.html
* HBase的Block Cache实现机制分析: http://www.cnblogs.com/panfeng412/archive/2012/09/24/hbase-block-cache-mechanism.html
* HBase入门篇: http://www.uml.org.cn/sjjm/201212141.asp
* Hbase分析报告: http://xiaoxia001.iteye.com/blog/1332874
* HBase 系统架构: http://blog.chinaunix.net/uid-20577907-id-3491151.html
* 图形化理解 HBase 数据写操作、压缩操作过程: http://blog.nosqlfan.com/html/1249.html
* hbase在淘宝的应用和优化小结: http://www.cnblogs.com/panfeng412/articles/hbase-optimization-and-apply-summary-in-taobao.html
* bigtable model with cassandra and hbase: http://horicky.blogspot.com/2010/10/bigtable-model-with-cassandra-and-hbase.html
* 编译和使用hive与HBase通信包--hive-hbase-handler.jar及下载: http://www.aboutyun.com/thread-7817-1-1.html


# Hive

* http://hive.apache.org/
* https://cwiki.apache.org/confluence/display/Hive/Home
* 使用Hive读取Hbase中的数据: http://victorzhzh.iteye.com/blog/972406

# Pig

* http://pig.apache.org/
* 使用 Apache Pig 处理数据: http://www.ibm.com/developerworks/cn/linux/l-apachepigdataquery/
* Pig实战: http://www.cnblogs.com/xuqiang/archive/2011/06/06/2073601.html
* Apache Pig的一些基础概念及用法总结（1）: http://www.codelast.com/?p=3621
* Apache Pig的一些基础概念及用法总结（2）: http://www.codelast.com/?p=4611
* Apache Pig中文教程（进阶）: http://www.codelast.com/?p=4249
* 使用Apache Pig时应该注意/避免的操作或事项: http://www.codelast.com/?p=4577


# Others

* GBase: http://www.gbase.cn/
* Vertica: https://www.vertica.com/
* actian: http://www.actian.com/
* Apache Derby: http://db.apache.org/derby/
* BlinkDB: http://blinkdb.org/

# 数据模型

## PowerDesigner两张表主键如何设成一致的

设置方法：Tools--->Model Options->Model Settings。在Data Item组框中定义数据项的唯一性代码选项(Unique Code)与重用选项（Allow Reuse）。把allow reuse选上，去掉unique code选项。
